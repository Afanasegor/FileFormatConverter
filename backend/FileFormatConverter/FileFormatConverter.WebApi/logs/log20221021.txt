2022-10-21 23:19:52.273 +03:00 [INF] Starting web host
2022-10-21 23:19:54.781 +03:00 [INF] Start installing Hangfire SQL objects...
2022-10-21 23:19:55.039 +03:00 [INF] Hangfire SQL objects installed.
2022-10-21 23:19:55.083 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: localhost\SQLEXPRESS@FileFormatConvertHangfireDb'
2022-10-21 23:19:55.085 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:15.
2022-10-21 23:19:55.087 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2022-10-21 23:19:55.523 +03:00 [INF] Server laptop-04jlnhi0:27000:03ef4b67 successfully announced in 402,6603 ms
2022-10-21 23:19:55.533 +03:00 [INF] Server laptop-04jlnhi0:27000:03ef4b67 is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2022-10-21 23:19:55.533 +03:00 [INF] Now listening on: http://localhost:5000
2022-10-21 23:19:55.557 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-21 23:19:55.577 +03:00 [INF] 1 servers were removed due to timeout
2022-10-21 23:19:55.590 +03:00 [INF] Hosting environment: Development
2022-10-21 23:19:55.638 +03:00 [INF] Content root path: D:\Proga\FileFormatConverter\backend\FileFormatConverter\FileFormatConverter.WebApi
2022-10-21 23:19:55.704 +03:00 [INF] Server laptop-04jlnhi0:27000:03ef4b67 all the dispatchers started
2022-10-21 23:19:56.573 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/weatherforecast  
2022-10-21 23:19:56.641 +03:00 [INF] Request finished in 68.9977ms 404 
2022-10-21 23:20:05.818 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger  
2022-10-21 23:20:05.823 +03:00 [INF] Request finished in 4.5889ms 301 
2022-10-21 23:20:05.825 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2022-10-21 23:20:05.868 +03:00 [INF] Request finished in 42.5557ms 200 text/html;charset=utf-8
2022-10-21 23:20:05.890 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui.css  
2022-10-21 23:20:05.913 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js  
2022-10-21 23:20:05.914 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-standalone-preset.js  
2022-10-21 23:20:05.989 +03:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2022-10-21 23:20:05.989 +03:00 [INF] Sending file. Request path: '/swagger-ui.css'. Physical path: 'N/A'
2022-10-21 23:20:05.989 +03:00 [INF] Sending file. Request path: '/swagger-ui-standalone-preset.js'. Physical path: 'N/A'
2022-10-21 23:20:05.994 +03:00 [INF] Request finished in 80.6381ms 200 application/javascript
2022-10-21 23:20:05.995 +03:00 [INF] Request finished in 105.0687ms 200 text/css
2022-10-21 23:20:05.999 +03:00 [INF] Request finished in 84.5469ms 200 application/javascript
2022-10-21 23:20:06.242 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2022-10-21 23:20:06.242 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/favicon-32x32.png  
2022-10-21 23:20:06.249 +03:00 [INF] Sending file. Request path: '/favicon-32x32.png'. Physical path: 'N/A'
2022-10-21 23:20:06.252 +03:00 [INF] Request finished in 10.5091ms 200 image/png
2022-10-21 23:20:06.366 +03:00 [INF] Request finished in 124.5079ms 200 application/json;charset=utf-8
2022-10-21 23:20:12.345 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Batch/get-all  
2022-10-21 23:20:12.360 +03:00 [INF] Executing endpoint 'FileFormatConverter.WebApi.Controllers.BatchController.GetAll (FileFormatConverter.WebApi)'
2022-10-21 23:20:12.410 +03:00 [INF] Route matched with {action = "GetAll", controller = "Batch"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetAll() on controller FileFormatConverter.WebApi.Controllers.BatchController (FileFormatConverter.WebApi).
2022-10-21 23:20:12.811 +03:00 [INF] Entity Framework Core 5.0.17 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-10-21 23:20:12.907 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-10-21 23:20:12.934 +03:00 [INF] Executed DbCommand (18ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2022-10-21 23:20:13.328 +03:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [b].[id], [b].[converter_type], [b].[created], [b].[modified], [b].[origin_file_id], [b].[origin_file_name], [b].[process_status], [b].[target_file_id]
FROM [Batches] AS [b]
ORDER BY [b].[created] DESC
2022-10-21 23:20:13.354 +03:00 [INF] Executing ObjectResult, writing value of type 'System.Collections.Generic.List`1[[FileFormatConverter.Services.Interfaces.Business.Models.Output.OutputBatchModel, FileFormatConverter.Services.Interfaces, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2022-10-21 23:20:13.387 +03:00 [INF] Executed action FileFormatConverter.WebApi.Controllers.BatchController.GetAll (FileFormatConverter.WebApi) in 965.6503ms
2022-10-21 23:20:13.392 +03:00 [INF] Executed endpoint 'FileFormatConverter.WebApi.Controllers.BatchController.GetAll (FileFormatConverter.WebApi)'
2022-10-21 23:20:13.400 +03:00 [INF] Request finished in 1055.211ms 200 application/json; charset=utf-8
2022-10-21 23:20:46.463 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Converter/check-status?id=143d2ed9-ee82-4073-a17b-33a22bea8ad8  
2022-10-21 23:20:46.469 +03:00 [INF] Executing endpoint 'FileFormatConverter.WebApi.Controllers.ConverterController.GetStatus (FileFormatConverter.WebApi)'
2022-10-21 23:20:46.489 +03:00 [INF] Route matched with {action = "GetStatus", controller = "Converter"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetStatus(System.Guid) on controller FileFormatConverter.WebApi.Controllers.ConverterController (FileFormatConverter.WebApi).
2022-10-21 23:20:46.535 +03:00 [INF] Entity Framework Core 5.0.17 initialized 'ApplicationContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer' with options: None
2022-10-21 23:20:46.549 +03:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2022-10-21 23:20:46.569 +03:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2022-10-21 23:20:46.591 +03:00 [INF] Get status of id: "143d2ed9-ee82-4073-a17b-33a22bea8ad8"
2022-10-21 23:20:46.665 +03:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Guid)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [b].[id], [b].[converter_type], [b].[created], [b].[modified], [b].[origin_file_id], [b].[origin_file_name], [b].[process_status], [b].[target_file_id]
FROM [Batches] AS [b]
WHERE [b].[id] = @__id_0
2022-10-21 23:20:59.095 +03:00 [INF] Executed action FileFormatConverter.WebApi.Controllers.ConverterController.GetStatus (FileFormatConverter.WebApi) in 12601.56ms
2022-10-21 23:21:00.245 +03:00 [INF] Executed endpoint 'FileFormatConverter.WebApi.Controllers.ConverterController.GetStatus (FileFormatConverter.WebApi)'
2022-10-21 23:21:19.859 +03:00 [ERR] An unhandled exception has occurred while executing the request.
System.NullReferenceException: Object reference not set to an instance of an object.
   at FileFormatConverter.Services.Utils.Converters.CoreModelsConverter.ConvertToOutputModel(Batch batch) in D:\Proga\FileFormatConverter\backend\FileFormatConverter\FileFormatConverter.Services\Utils\Converters\CoreModelsConverter.cs:line 45
   at FileFormatConverter.Services.Business.BatchService.GetBatchById(Guid batchId) in D:\Proga\FileFormatConverter\backend\FileFormatConverter\FileFormatConverter.Services\Business\BatchService.cs:line 73
   at FileFormatConverter.WebApi.Controllers.ConverterController.GetStatus(Guid id) in D:\Proga\FileFormatConverter\backend\FileFormatConverter\FileFormatConverter.WebApi\Controllers\ConverterController.cs:line 38
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|19_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Builder.Extensions.MapMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddleware.Invoke(HttpContext context)
2022-10-21 23:21:20.101 +03:00 [INF] Request finished in 33638.9369ms 500 text/plain
2022-10-21 23:21:56.317 +03:00 [INF] Application is shutting down...
2022-10-21 23:59:49.638 +03:00 [INF] Starting web host
2022-10-21 23:59:51.886 +03:00 [INF] Start installing Hangfire SQL objects...
2022-10-21 23:59:52.166 +03:00 [INF] Hangfire SQL objects installed.
2022-10-21 23:59:52.200 +03:00 [INF] Starting Hangfire Server using job storage: 'SQL Server: localhost\SQLEXPRESS@FileFormatConvertHangfireDb'
2022-10-21 23:59:52.202 +03:00 [INF] Using the following options for SQL Server job storage: Queue poll interval: 00:00:15.
2022-10-21 23:59:52.205 +03:00 [INF] Using the following options for Hangfire Server:
    Worker count: 20
    Listening queues: 'default'
    Shutdown timeout: 00:00:15
    Schedule polling interval: 00:00:15
2022-10-21 23:59:52.547 +03:00 [INF] Now listening on: http://localhost:5000
2022-10-21 23:59:52.550 +03:00 [INF] Application started. Press Ctrl+C to shut down.
2022-10-21 23:59:52.551 +03:00 [INF] Hosting environment: Development
2022-10-21 23:59:52.553 +03:00 [INF] Content root path: D:\Proga\FileFormatConverter\backend\FileFormatConverter\FileFormatConverter.WebApi
2022-10-21 23:59:52.624 +03:00 [INF] Server laptop-04jlnhi0:7356:3be3651e successfully announced in 391,8434 ms
2022-10-21 23:59:52.634 +03:00 [INF] Server laptop-04jlnhi0:7356:3be3651e is starting the registered dispatchers: ServerWatchdog, ServerJobCancellationWatcher, ExpirationManager, CountersAggregator, SqlServerHeartbeatProcess, Worker, DelayedJobScheduler, RecurringJobScheduler...
2022-10-21 23:59:52.684 +03:00 [INF] 1 servers were removed due to timeout
2022-10-21 23:59:52.826 +03:00 [INF] Server laptop-04jlnhi0:7356:3be3651e all the dispatchers started
2022-10-21 23:59:53.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/weatherforecast  
2022-10-21 23:59:53.555 +03:00 [INF] Request finished in 70.0623ms 404 
2022-10-21 23:59:57.079 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html  
2022-10-21 23:59:57.136 +03:00 [INF] Request finished in 57.2893ms 200 text/html;charset=utf-8
2022-10-21 23:59:57.486 +03:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json  
2022-10-21 23:59:57.642 +03:00 [INF] Request finished in 155.9782ms 200 application/json;charset=utf-8
